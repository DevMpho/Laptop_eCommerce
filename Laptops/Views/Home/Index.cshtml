@{
    ViewData["Title"] = "Home";
    var featured = ViewBag.Featured as Laptops.Models.Product;
    var devList = ViewBag.DevCreators as List<Laptops.Models.Product>;
    var officeList = ViewBag.BusinessOffice as List<Laptops.Models.Product>;
    
}
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-dFfdf3dcZm+lHz6UcJ57Vn3ep1Zk9O9bDcyL+G8XvF/7qFo2RpT3oPfFnqC5V1NHHc6X3sBYY2zD9K+3z1Bx9A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<header class="bg-blue-900 text-white px-6 py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
    <div class="flex items-center space-x-2">
        <a href="@Url.Action("Index", "Home")">
            <img src="/images/logo.webp" alt="mint logo" class="h-14 w-32" />
        </a>
    </div>

    <div class="flex items-center space-x-4">
        <button class="bg-green-500 px-4 py-2 rounded text-white text-sm hover:bg-green-600">Contact Us</button>
        <!-- Profile icon -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>

        <!-- Cart icon -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.293 2.293a1 1 0 00.217 1.32l.083.07a1 1 0 001.32-.217L9 14h6l1.293 2.293a1 1 0 001.32.217l.083-.07a1 1 0 00.217-1.32L17 13M7 13V6h10v7" />
        </svg>
    </div>
</header>
<div >
    <div class="bg-gradient-to-b from-[#1F44BB] via-[#EEF3FF] to-white py-20">
        <div class="max-w-7xl mx-auto px-6 md:px-12 grid md:grid-cols-2 gap-12 items-center">

            <!-- Left Column: Hero Content -->
            <div class="space-y-6 text-white md:text-gray-900">
                <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
                    MintGroup Device Exchange
                </h1>
                <p class="text-lg">
                    Your trusted space to view pre-owned, <span class="text-[#73AC4B] font-semibold">IT-approved laptops</span>.
                    Every device is verified. Every listing is limited.
                </p>

                <!-- Search Bar -->
                <div class="relative w-full md:w-96">
                    <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 z-10"
                         xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2"
                         viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M21 21l-4.35-4.35M16.5 9.75A6.75 6.75 0 1 1 9.75 16.5A6.75 6.75 0 0 1 16.5 9.75z" />
                    </svg>
                    <input type="text"
                           placeholder="Search by brand, RAM, or keyword..."
                           class="pl-12 pr-4 py-3 w-full border border-gray-300 rounded-full shadow-sm focus:ring-2 focus:ring-[#1F44BB] focus:outline-none text-sm placeholder-gray-500" />
                </div>

                <p class="text-sm text-gray-100 md:text-gray-500 italic mt-2">
                    MintGroup internal use only
                </p>
            </div>

            <!-- Right Column: Featured Product -->
            <div class="bg-white rounded-2xl p-6 shadow-lg max-w-md w-full mx-auto">
                <div class="space-y-4 text-center md:text-left">
                    <img src="/images/legion1.jpg" alt="Lenovo Legion 5"
                         class="w-full h-auto rounded-xl object-contain transition-transform duration-300 hover:scale-105" />

                    <h2 class="text-xl font-bold text-[#1F44BB]">Lenovo Legion 5</h2>

                    <p class="text-sm text-gray-600 leading-relaxed">
                        📝 Gen Intel Core i5 with NVIDIA GeForce RTX 3050<br />
                        💾 <span class="font-medium text-[#1F44BB]">RAM:</span> 16GB DDR5<br />
                        💽 <span class="font-medium text-[#1F44BB]">Storage:</span> 512GB SSD
                    </p>

                    <p class="text-lg font-bold text-[#73AC4B]">R 5000</p>

                    <a asp-action="LaptopDetails"
                       class="inline-flex items-center justify-center px-5 py-2 bg-[#1F44BB] hover:bg-blue-900 text-white font-semibold rounded-full shadow transition duration-300 ease-in-out">
                        View Details
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>

        </div>
    </div>



    <div class="max-w-7xl mx-auto mt-10 px-4">
        <!-- Filters & Sort -->
        <div class="flex flex-wrap items-center justify-between gap-4 p-6 bg-white rounded-2xl shadow-md mt-10 mb-6 border border-gray-200">
            <!-- Filters -->
            <div class="flex flex-wrap items-center gap-6">
                <div class="flex flex-col">
                    <label for="brand" class="text-sm font-semibold text-gray-700">Brand</label>
                    <select id="brandFilter" class="px-3 py-2 border rounded-md text-sm focus:ring-2 focus:ring-[#1F44BB]">
                        <option value="">All</option>
                        <option value="Lenovo">Lenovo</option>
                        <option value="Dell">Dell</option>
                        <option value="HP">HP</option>
                        <option value="ASUS">ASUS</option>
                        <option value="Legion">Legion</option>
                    </select>
                </div>
               
            </div>

            <!-- Sort -->
            <div class="flex flex-col">
                <label for="sort" class="text-sm font-semibold text-gray-700">Sort by</label>
                <select id="sortSelect" class="px-3 py-2 border rounded-md text-sm focus:ring-2 focus:ring-[#73AC4B]">
                    <option value="default">Default</option>
                    <option value="price-low-high">Price: Low to High</option>
                    <option value="price-high-low">Price: High to Low</option>
                    <option value="name-asc">Name: A-Z</option>
                    <option value="name-desc">Name: Z-A</option>
                </select>
            </div>
        </div>

        <!-- Developers and Creators -->
        <h3 class="text-2xl font-bold text-[#1F44BB] mb-4">Developers And Creators</h3>
        <div class="grid md:grid-cols-3 gap-6" id="devCreatorsSection">
            @foreach (var laptop in devList)
            {
                @Html.Partial("_LaptopCard", laptop)
            }
        </div>

        <!-- Business and Office -->
        <h3 class="text-2xl font-bold text-[#1F44BB] mt-10 mb-4">Business And Office</h3>
        <div class="grid md:grid-cols-3 gap-6" id="businessOfficeSection">
            @foreach (var laptop in officeList)
            {
                @Html.Partial("_LaptopCard", laptop)
            }
        </div>
    </div>
    
    
</div>

<script>
    const searchInput = document.querySelector('input[placeholder*="Search"]');
    const brandFilter = document.getElementById("brandFilter");
    const ramFilter = document.getElementById("ramFilter");
    const sortSelect = document.getElementById("sortSelect");

    const sections = ["devCreatorsSection", "businessOfficeSection"];

    function applyFilters() {
        const brand = brandFilter.value.toLowerCase();
        const ram = ramFilter.value.toLowerCase();
        const query = searchInput.value.toLowerCase();

        sections.forEach(sectionId => {
            const cards = document.querySelectorAll(`#${sectionId} > div`);
            cards.forEach(card => {
                const cardBrand = card.dataset.brand?.toLowerCase() || "";
                const cardRam = card.dataset.ram?.toLowerCase() || "";
                const cardName = card.dataset.name?.toLowerCase() || "";
                const cardStorage = card.dataset.storage?.toLowerCase() || "";

                const matchesBrand = !brand || cardBrand === brand;
                const matchesRam = !ram || cardRam === ram;
                const matchesSearch = !query ||
                    cardName.includes(query) ||
                    cardBrand.includes(query) ||
                    cardRam.includes(query) ||
                    cardStorage.includes(query);

                const shouldShow = matchesBrand && matchesRam && matchesSearch;
                card.classList.toggle("hidden", !shouldShow);
            });
        });
    }

    function sortProducts() {
        const value = sortSelect.value;

        sections.forEach(sectionId => {
            const container = document.getElementById(sectionId);
            const cards = Array.from(container.children);

            const sorted = cards.sort((a, b) => {
                const priceA = parseFloat(a.dataset.price);
                const priceB = parseFloat(b.dataset.price);
                const nameA = a.dataset.name.toLowerCase();
                const nameB = b.dataset.name.toLowerCase();

                switch (value) {
                    case "price-low-high": return priceA - priceB;
                    case "price-high-low": return priceB - priceA;
                    case "name-asc": return nameA.localeCompare(nameB);
                    case "name-desc": return nameB.localeCompare(nameA);
                    default: return 0;
                }
            });

            sorted.forEach(el => container.appendChild(el));
        });
    }

    // Attach events
    brandFilter.addEventListener("change", applyFilters);
    ramFilter.addEventListener("change", applyFilters);
    sortSelect.addEventListener("change", sortProducts);
    searchInput.addEventListener("input", applyFilters);
</script>

